<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assessment</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:ital,wght@0,200..800;1,200..800&display=swap" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/assessment.css')}}" rel="stylesheet">
    <style>
        /* small visual cue for the missing question */
        ul.error {
            outline: 3px solid #e74c3c;
            border-radius: 6px;
            padding: 6px;
        }
    </style>
</head>
<body>
    <h1>Sustainability-oriented Innovation Assessment</h1>
    <br>
    <div id="hide">
        <img src="{{ url_for('static', filename='loading.gif')}}" alt="loading">
        <p>Creating results...</p>
    </div>
    <form method="POST">
        {{ form.hidden_tag()}}
        <label for="fi1">Inovasi berfokus pada peningkatan efisiensi teknis produksi</label>
        <ul id="fi1">
            <p>tidak sesuai</p>
            <li>
                <div class="button">
                    <input id="fi1-0" name="fi1" type="radio" value="1">
                    <label for="fi1-0">1</label>
                </div>
            </li>
            <li>
                <div class="button">
                    <input id="fi1-1" name="fi1" type="radio" value="2">
                    <label for="fi1-1">2</label>
                </div>
            </li>
            <li>
                <div class="button">
                    <input id="fi1-2" name="fi1" type="radio" value="3">
                    <label for="fi1-2">3</label>
                </div>
            </li>
            <li>
                <div class="button">
                    <input id="fi1-3" name="fi1" type="radio" value="4">
                    <label for="fi1-3">4</label>
                </div>
            </li>
            <li>
                <div class="button">
                    <input id="fi1-4" name="fi1" type="radio" value="5">
                    <label for="fi1-4">5</label>
                </div>
            </li>
            <p>sesuai</p>
        </ul>
        <label for="fi2">Inovasi melibatkan pengembangan SDM dan organisasi</label>
        <ul id="fi2">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="fi2-0" name="fi2" type="radio" value="1"> <label for="fi2-0">1</label></div></li>
            <li><div class="button"><input id="fi2-1" name="fi2" type="radio" value="2"> <label for="fi2-1">2</label></div></li>
            <li><div class="button"><input id="fi2-2" name="fi2" type="radio" value="3"> <label for="fi2-2">3</label></div></li>
            <li><div class="button"><input id="fi2-3" name="fi2" type="radio" value="4"> <label for="fi2-3">4</label></div></li>
            <li><div class="button"><input id="fi2-4" name="fi2" type="radio" value="5"> <label for="fi2-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="fi3">Inovasi diarahkan untuk perubahan perilaku konsumen/masyarakat</label>
        <ul id="fi3">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="fi3-0" name="fi3" type="radio" value="1"> <label for="fi3-0">1</label></div></li>
            <li><div class="button"><input id="fi3-1" name="fi3" type="radio" value="2"> <label for="fi3-1">2</label></div></li>
            <li><div class="button"><input id="fi3-2" name="fi3" type="radio" value="3"> <label for="fi3-2">3</label></div></li>
            <li><div class="button"><input id="fi3-3" name="fi3" type="radio" value="4"> <label for="fi3-3">4</label></div></li>
            <li><div class="button"><input id="fi3-4" name="fi3" type="radio" value="5"> <label for="fi3-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="fi4">Perusahaan memiliki strategi jangka panjang untuk inovasi berkelanjutan</label>
        <ul id="fi4">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="fi4-0" name="fi4" type="radio" value="1"> <label for="fi4-0">1</label></div></li>
            <li><div class="button"><input id="fi4-1" name="fi4" type="radio" value="2"> <label for="fi4-1">2</label></div></li>
            <li><div class="button"><input id="fi4-2" name="fi4" type="radio" value="3"> <label for="fi4-2">3</label></div></li>
            <li><div class="button"><input id="fi4-3" name="fi4" type="radio" value="4"> <label for="fi4-3">4</label></div></li>
            <li><div class="button"><input id="fi4-4" name="fi4" type="radio" value="5"> <label for="fi4-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="fk1">Inovasi paling utama ditujukan pada efisiensi ekonomi dan kepatuhan regulasi</label>
        <ul id="fk1">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="fk1-0" name="fk1" type="radio" value="1"> <label for="fk1-0">1</label></div></li>
            <li><div class="button"><input id="fk1-1" name="fk1" type="radio" value="2"> <label for="fk1-1">2</label></div></li>
            <li><div class="button"><input id="fk1-2" name="fk1" type="radio" value="3"> <label for="fk1-2">3</label></div></li>
            <li><div class="button"><input id="fk1-3" name="fk1" type="radio" value="4"> <label for="fk1-3">4</label></div></li>
            <li><div class="button"><input id="fk1-4" name="fk1" type="radio" value="5"> <label for="fk1-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="fk2">Aspek lingkungan/sosial dipertimbangkan dalam inovasi</label>
        <ul id="fk2">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="fk2-0" name="fk2" type="radio" value="1"> <label for="fk2-0">1</label></div></li>
            <li><div class="button"><input id="fk2-1" name="fk2" type="radio" value="2"> <label for="fk2-1">2</label></div></li>
            <li><div class="button"><input id="fk2-2" name="fk2" type="radio" value="3"> <label for="fk2-2">3</label></div></li>
            <li><div class="button"><input id="fk2-3" name="fk2" type="radio" value="4"> <label for="fk2-3">4</label></div></li>
            <li><div class="button"><input id="fk2-4" name="fk2" type="radio" value="5"> <label for="fk2-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="fk3">Inovasi menciptakan nilai ekonomi, sosial, dan lingkungan secara seimbang</label>
        <ul id="fk3">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="fk3-0" name="fk3" type="radio" value="1"> <label for="fk3-0">1</label></div></li>
            <li><div class="button"><input id="fk3-1" name="fk3" type="radio" value="2"> <label for="fk3-1">2</label></div></li>
            <li><div class="button"><input id="fk3-2" name="fk3" type="radio" value="3"> <label for="fk3-2">3</label></div></li>
            <li><div class="button"><input id="fk3-3" name="fk3" type="radio" value="4"> <label for="fk3-3">4</label></div></li>
            <li><div class="button"><input id="fk3-4" name="fk3" type="radio" value="5"> <label for="fk3-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="fk4">Perusahaan memiliki komitmen jelas pada prinsip triple bottom line (ekonomi, sosial, lingkungan)</label>
        <ul id="fk4">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="fk4-0" name="fk4" type="radio" value="1"> <label for="fk4-0">1</label></div></li>
            <li><div class="button"><input id="fk4-1" name="fk4" type="radio" value="2"> <label for="fk4-1">2</label></div></li>
            <li><div class="button"><input id="fk4-2" name="fk4" type="radio" value="3"> <label for="fk4-2">3</label></div></li>
            <li><div class="button"><input id="fk4-3" name="fk4" type="radio" value="4"> <label for="fk4-3">4</label></div></li>
            <li><div class="button"><input id="fk4-4" name="fk4" type="radio" value="5"> <label for="fk4-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="in1">Praktik keberlanjutan dalam inovasi masih berdiri sendiri di unit tertentu</label>
        <ul id="in1">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="in1-0" name="in1" type="radio" value="1"> <label for="in1-0">1</label></div></li>
            <li><div class="button"><input id="in1-1" name="in1" type="radio" value="2"> <label for="in1-1">2</label></div></li>
            <li><div class="button"><input id="in1-2" name="in1" type="radio" value="3"> <label for="in1-2">3</label></div></li>
            <li><div class="button"><input id="in1-3" name="in1" type="radio" value="4"> <label for="in1-3">4</label></div></li>
            <li><div class="button"><input id="in1-4" name="in1" type="radio" value="5"> <label for="in1-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="in2">Sebagian unit/divisi menerapkan keberlanjutan dalam inovasi</label>
        <ul id="in2">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="in2-0" name="in2" type="radio" value="1"> <label for="in2-0">1</label></div></li>
            <li><div class="button"><input id="in2-1" name="in2" type="radio" value="2"> <label for="in2-1">2</label></div></li>
            <li><div class="button"><input id="in2-2" name="in2" type="radio" value="3"> <label for="in2-2">3</label></div></li>
            <li><div class="button"><input id="in2-3" name="in2" type="radio" value="4"> <label for="in2-3">4</label></div></li>
            <li><div class="button"><input id="in2-4" name="in2" type="radio" value="5"> <label for="in2-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="in3">Inovasi berkelanjutan sudah menjadi budaya organisasi</label>
        <ul id="in3">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="in3-0" name="in3" type="radio" value="1"> <label for="in3-0">1</label></div></li>
            <li><div class="button"><input id="in3-1" name="in3" type="radio" value="2"> <label for="in3-1">2</label></div></li>
            <li><div class="button"><input id="in3-2" name="in3" type="radio" value="3"> <label for="in3-2">3</label></div></li>
            <li><div class="button"><input id="in3-3" name="in3" type="radio" value="4"> <label for="in3-3">4</label></div></li>
            <li><div class="button"><input id="in3-4" name="in3" type="radio" value="5"> <label for="in3-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="in4">Karyawan di berbagai level dilibatkan aktif dalam inisiatif inovasi berkelanjutan</label>
        <ul id="in4">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="in4-0" name="in4" type="radio" value="1"> <label for="in4-0">1</label></div></li>
            <li><div class="button"><input id="in4-1" name="in4" type="radio" value="2"> <label for="in4-1">2</label></div></li>
            <li><div class="button"><input id="in4-2" name="in4" type="radio" value="3"> <label for="in4-2">3</label></div></li>
            <li><div class="button"><input id="in4-3" name="in4" type="radio" value="4"> <label for="in4-3">4</label></div></li>
            <li><div class="button"><input id="in4-4" name="in4" type="radio" value="5"> <label for="in4-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="ek1">Perusahaan jarang bekerja sama dengan pihak eksternal</label>
        <ul id="ek1">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="ek1-0" name="ek1" type="radio" value="1"> <label for="ek1-0">1</label></div></li>
            <li><div class="button"><input id="ek1-1" name="ek1" type="radio" value="2"> <label for="ek1-1">2</label></div></li>
            <li><div class="button"><input id="ek1-2" name="ek1" type="radio" value="3"> <label for="ek1-2">3</label></div></li>
            <li><div class="button"><input id="ek1-3" name="ek1" type="radio" value="4"> <label for="ek1-3">4</label></div></li>
            <li><div class="button"><input id="ek1-4" name="ek1" type="radio" value="5"> <label for="ek1-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="ek2">Ada kerja sama terbatas dengan mitra eksternal</label>
        <ul id="ek2">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="ek2-0" name="ek2" type="radio" value="1"> <label for="ek2-0">1</label></div></li>
            <li><div class="button"><input id="ek2-1" name="ek2" type="radio" value="2"> <label for="ek2-1">2</label></div></li>
            <li><div class="button"><input id="ek2-2" name="ek2" type="radio" value="3"> <label for="ek2-2">3</label></div></li>
            <li><div class="button"><input id="ek2-3" name="ek2" type="radio" value="4"> <label for="ek2-3">4</label></div></li>
            <li><div class="button"><input id="ek2-4" name="ek2" type="radio" value="5"> <label for="ek2-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="ek3">Perusahaan membangun jaringan kolaborasi luas &amp; strategis</label>
        <ul id="ek3">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="ek3-0" name="ek3" type="radio" value="1"> <label for="ek3-0">1</label></div></li>
            <li><div class="button"><input id="ek3-1" name="ek3" type="radio" value="2"> <label for="ek3-1">2</label></div></li>
            <li><div class="button"><input id="ek3-2" name="ek3" type="radio" value="3"> <label for="ek3-2">3</label></div></li>
            <li><div class="button"><input id="ek3-3" name="ek3" type="radio" value="4"> <label for="ek3-3">4</label></div></li>
            <li><div class="button"><input id="ek3-4" name="ek3" type="radio" value="5"> <label for="ek3-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="ek4">Perusahaan berbagi pengetahuan/inovasi dengan komunitas atau industri lain untuk mendorong keberlanjutan</label>
        <ul id="ek4">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="ek4-0" name="ek4" type="radio" value="1"> <label for="ek4-0">1</label></div></li>
            <li><div class="button"><input id="ek4-1" name="ek4" type="radio" value="2"> <label for="ek4-1">2</label></div></li>
            <li><div class="button"><input id="ek4-2" name="ek4" type="radio" value="3"> <label for="ek4-2">3</label></div></li>
            <li><div class="button"><input id="ek4-3" name="ek4" type="radio" value="4"> <label for="ek4-3">4</label></div></li>
            <li><div class="button"><input id="ek4-4" name="ek4" type="radio" value="5"> <label for="ek4-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="am1">Fokus pada pemanfaatan teknologi/proses yang ada</label>
        <ul id="am1">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="am1-0" name="am1" type="radio" value="1"> <label for="am1-0">1</label></div></li>
            <li><div class="button"><input id="am1-1" name="am1" type="radio" value="2"> <label for="am1-1">2</label></div></li>
            <li><div class="button"><input id="am1-2" name="am1" type="radio" value="3"> <label for="am1-2">3</label></div></li>
            <li><div class="button"><input id="am1-3" name="am1" type="radio" value="4"> <label for="am1-3">4</label></div></li>
            <li><div class="button"><input id="am1-4" name="am1" type="radio" value="5"> <label for="am1-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="am2">Mulai mengeksplorasi ide-ide baru di samping pemanfaatan yang ada</label>
        <ul id="am2">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="am2-0" name="am2" type="radio" value="1"> <label for="am2-0">1</label></div></li>
            <li><div class="button"><input id="am2-1" name="am2" type="radio" value="2"> <label for="am2-1">2</label></div></li>
            <li><div class="button"><input id="am2-2" name="am2" type="radio" value="3"> <label for="am2-2">3</label></div></li>
            <li><div class="button"><input id="am2-3" name="am2" type="radio" value="4"> <label for="am2-3">4</label></div></li>
            <li><div class="button"><input id="am2-4" name="am2" type="radio" value="5"> <label for="am2-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="am3">Seimbang antara eksplorasi ide baru &amp; pemanfaatan teknologi/proses yang ada</label>
        <ul id="am3">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="am3-0" name="am3" type="radio" value="1"> <label for="am3-0">1</label></div></li>
            <li><div class="button"><input id="am3-1" name="am3" type="radio" value="2"> <label for="am3-1">2</label></div></li>
            <li><div class="button"><input id="am3-2" name="am3" type="radio" value="3"> <label for="am3-2">3</label></div></li>
            <li><div class="button"><input id="am3-3" name="am3" type="radio" value="4"> <label for="am3-3">4</label></div></li>
            <li><div class="button"><input id="am3-4" name="am3" type="radio" value="5"> <label for="am3-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="am4">Perusahaan berinvestasi dalam R&amp;D untuk menciptakan inovasi baru tanpa mengabaikan efisiensi saat ini</label>
        <ul id="am4">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="am4-0" name="am4" type="radio" value="1"> <label for="am4-0">1</label></div></li>
            <li><div class="button"><input id="am4-1" name="am4" type="radio" value="2"> <label for="am4-1">2</label></div></li>
            <li><div class="button"><input id="am4-2" name="am4" type="radio" value="3"> <label for="am4-2">3</label></div></li>
            <li><div class="button"><input id="am4-3" name="am4" type="radio" value="4"> <label for="am4-3">4</label></div></li>
            <li><div class="button"><input id="am4-4" name="am4" type="radio" value="5"> <label for="am4-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="da1">Perhatian keberlanjutan terbatas pada tahap produksi/manufaktur</label>
        <ul id="da1">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="da1-0" name="da1" type="radio" value="1"> <label for="da1-0">1</label></div></li>
            <li><div class="button"><input id="da1-1" name="da1" type="radio" value="2"> <label for="da1-1">2</label></div></li>
            <li><div class="button"><input id="da1-2" name="da1" type="radio" value="3"> <label for="da1-2">3</label></div></li>
            <li><div class="button"><input id="da1-3" name="da1" type="radio" value="4"> <label for="da1-3">4</label></div></li>
            <li><div class="button"><input id="da1-4" name="da1" type="radio" value="5"> <label for="da1-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="da2">Keberlanjutan dipertimbangkan pada tahap penggunaan/akhir masa pakai</label>
        <ul id="da2">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="da2-0" name="da2" type="radio" value="1"> <label for="da2-0">1</label></div></li>
            <li><div class="button"><input id="da2-1" name="da2" type="radio" value="2"> <label for="da2-1">2</label></div></li>
            <li><div class="button"><input id="da2-2" name="da2" type="radio" value="3"> <label for="da2-2">3</label></div></li>
            <li><div class="button"><input id="da2-3" name="da2" type="radio" value="4"> <label for="da2-3">4</label></div></li>
            <li><div class="button"><input id="da2-4" name="da2" type="radio" value="5"> <label for="da2-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="da3">Inovasi mencakup seluruh siklus hidup produk (desain-produksi-pakai-daur ulang)</label>
        <ul id="da3">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="da3-0" name="da3" type="radio" value="1"> <label for="da3-0">1</label></div></li>
            <li><div class="button"><input id="da3-1" name="da3" type="radio" value="2"> <label for="da3-1">2</label></div></li>
            <li><div class="button"><input id="da3-2" name="da3" type="radio" value="3"> <label for="da3-2">3</label></div></li>
            <li><div class="button"><input id="da3-3" name="da3" type="radio" value="4"> <label for="da3-3">4</label></div></li>
            <li><div class="button"><input id="da3-4" name="da3" type="radio" value="5"> <label for="da3-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <label for="da4">Perusahaan berupaya mengurangi dampak lingkungan dari produk sejak tahap desain awal</label>
        <ul id="da4">
            <p>tidak sesuai</p>
            <li><div class="button"><input id="da4-0" name="da4" type="radio" value="1"> <label for="da4-0">1</label></div></li>
            <li><div class="button"><input id="da4-1" name="da4" type="radio" value="2"> <label for="da4-1">2</label></div></li>
            <li><div class="button"><input id="da4-2" name="da4" type="radio" value="3"> <label for="da4-2">3</label></div></li>
            <li><div class="button"><input id="da4-3" name="da4" type="radio" value="4"> <label for="da4-3">4</label></div></li>
            <li><div class="button"><input id="da4-4" name="da4" type="radio" value="5"> <label for="da4-4">5</label></div></li>
            <p>sesuai</p>
        </ul>
        <div class="submit-button">
        {{ form.submit }}
        </div>
    </form>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const form = document.querySelector('form');
        const loading = document.getElementById('hide');

        function firstUnfilledRadioName(formEl) {
            const radios = formEl.querySelectorAll('input[type="radio"]');
            const names = [...new Set(Array.from(radios).map(r => r.name))];
            for (const name of names) {
                if (!formEl.querySelector(`input[name="${name}"]:checked`)) {
                    return name;
                }
            }
            return null;
        }

        form.addEventListener('submit', function (e) {
            const missing = firstUnfilledRadioName(form);
            if (missing) {
                e.preventDefault();
                // highlight the group and scroll to it
                const firstRadio = form.querySelector(`input[name="${missing}"]`);
                const group = firstRadio && firstRadio.closest('ul');
                if (group) {
                    // remove any previous errors
                    form.querySelectorAll('ul.error').forEach(el => el.classList.remove('error'));
                    group.classList.add('error');
                    group.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    // focus the first radio so keyboard users land in the group
                    firstRadio.focus();
                }
                // optional: small accessible announcement
                const msg = document.getElementById('validation-msg') || (function(){
                    const d = document.createElement('div');
                    d.id = 'validation-msg';
                    d.setAttribute('aria-live', 'polite');
                    d.style.position = 'absolute';
                    d.style.left = '-9999px';
                    document.body.appendChild(d);
                    return d;
                })();
                msg.textContent = 'Please answer the highlighted question before continuing.';
                return false;
            } else {
                form.id = "hide"
                loading.id = "loading"
            }
        });

        // Remove highlight when user selects an option
        form.addEventListener('change', function (e) {
            if (e.target && e.target.type === 'radio') {
                const group = e.target.closest('ul');
                if (group && group.classList.contains('error')) group.classList.remove('error');
            }
        });
    });
    </script>
</body>
</html>